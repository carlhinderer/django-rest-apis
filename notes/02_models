------------------------------------------------------
CHAPTER 2 - MODELS, MIGRATIONS, AND SERIALIZATION
------------------------------------------------------

- Required Fields for Toy Entity

    - Integer Identifier
    - Name
    - Description (Optional)
    - Category
    - Release Date
    - Boolean value indicating whether toy has been on homepage at least once



- HTTP Verbs to Implement

    Verb      Scope                    Semantics                     URL
    ---------------------------------------------------------------------------
    GET       Toy                      Single Toy                    /toys/{id}
    GET       Collection of Toys       All toys, sorted by name      /toys
    POST      Collection of Toys       Create new toy                /toys
    PUT       Toy                      Update existing toy           /toys/{id}
    DELETE    Toy                      Delete existing toy           /toys/{id}


    For GET single toy requests, 
      If successful, return '200 OK' and the requested toy as JSON
      Else return '404 Not Found'

    For POST requests, 
      We pass in the JSON for the new toy.
      If successful, return '201 Created' and the new toy as JSON
      Else return '400 Bad Request'

    For PUT requests,
      If successful, return '200 OK' and the updated toy as JSON
      Else If the necessary data to update the toy wasn't provided, return '400 Bad Request'
      Else If the toy with the requested id isn't found, return '404 Not Found'

    For DELETE requests,
      If successful, return '204 No Content'
      Else return '404 Not Found'



- Creating the Toy Model

    In the 'toys/models.py' file, we add the model.  Note that Django automatically adds
      the auto-increment integer primary key column 'id', and maps the column to the
      'pk' attribute for the model.


    from django.db import models

    class Toy(models.Model):
        created = models.DateTimeField(auto_now_add=True)
        name = models.CharField(max_length=150, blank=False, default='')
        description = models.CharField(max_length=250, blank=True, default='')
        toy_category = models.CharField(max_length=200, blank=False, default='')
        release_date = models.DateTimeField()
        was_included_in_home = models.BooleanField(default=False)

        class Meta:
            ordering = ('name',)



- Creating the Initial Migration

    By default, for the time being, we are using SQLite, so we don't have to make any
      changes to the default ORM configuration.  The automatically generated migration
      is a subclass of 'django.db.migrations.Migration'.  


    # Create the migration
    cd restful01
    python manage.py makemigrations toys


    # In toys/migrations/0001_initial.py
    from django.db import migrations, models 
 
    class Migration(migrations.Migration): 
     
        initial = True 
     
        dependencies = [ 
        ] 
     
        operations = [ 
            migrations.CreateModel( 
                name='Toy', 
                fields=[ 
                    ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False,     
                                            verbose_name='ID')), 
                    ('created', models.DateTimeField(auto_now_add=True)), 
                    ('name', models.CharField(default='', max_length=150)), 
                    ('description', models.CharField(blank=True, default='', max_length=250)), 
                    ('toy_category', models.CharField(default='', max_length=200)), 
                    ('release_date', models.DateTimeField()), 
                    ('was_included_in_home', models.BooleanField(default=False)), 
                ], 
                options={ 
                    'ordering': ('name',), 
                }, 
            ), 
        ] 